import{c as O,a as z,ag as Y,ah as V,d as R,u as K,g as M,ai as q,h as x,aj as Q,ak as X,i as Z,al as ee,l as b,am as te,T as se,a2 as ne,A as ae,O as ie,a1 as oe,r as I,B as P,C as D,J as e,Q as n,S as l,D as t,N as j,W as p,ab as v,ac as k,R as le,_ as N,an as re,I as ce,a8 as ue,ao as pe,P as U,ap as de,$ as me,F as W,U as L,aq as fe,ar as he,as as G,at as ve,au as ge}from"./index-2f212ad3.js";const ye=O([O("@keyframes spin-rotate",`
 from {
 transform: rotate(0);
 }
 to {
 transform: rotate(360deg);
 }
 `),z("spin-container",{position:"relative"},[z("spin-body",`
 position: absolute;
 top: 50%;
 left: 50%;
 transform: translateX(-50%) translateY(-50%);
 `,[Y()])]),z("spin-body",`
 display: inline-flex;
 align-items: center;
 justify-content: center;
 flex-direction: column;
 `),z("spin",`
 display: inline-flex;
 height: var(--n-size);
 width: var(--n-size);
 font-size: var(--n-size);
 color: var(--n-color);
 `,[V("rotate",`
 animation: spin-rotate 2s linear infinite;
 `)]),z("spin-description",`
 display: inline-block;
 font-size: var(--n-font-size);
 color: var(--n-text-color);
 transition: color .3s var(--n-bezier);
 margin-top: 8px;
 `),z("spin-content",`
 opacity: 1;
 transition: opacity .3s var(--n-bezier);
 pointer-events: all;
 `,[V("spinning",`
 user-select: none;
 -webkit-user-select: none;
 pointer-events: none;
 opacity: var(--n-opacity-spinning);
 `)])]),be={small:20,medium:18,large:16},ke=Object.assign(Object.assign({},M.props),{description:String,stroke:String,size:{type:[String,Number],default:"medium"},show:{type:Boolean,default:!0},strokeWidth:Number,rotate:{type:Boolean,default:!0},spinning:{type:Boolean,validator:()=>!0,default:void 0}}),xe=R({name:"Spin",props:ke,setup(r){const{mergedClsPrefixRef:d,inlineThemeDisabled:o}=K(r),a=M("Spin","-spin",ye,q,r,d),m=x(()=>{const{size:s}=r,{common:{cubicBezierEaseInOut:h},self:g}=a.value,{opacitySpinning:y,color:_,textColor:$}=g,w=typeof s=="number"?Q(s):g[X("size",s)];return{"--n-bezier":h,"--n-opacity-spinning":y,"--n-size":w,"--n-color":_,"--n-text-color":$}}),f=o?Z("spin",x(()=>{const{size:s}=r;return typeof s=="number"?String(s):s[0]}),m,r):void 0;return{mergedClsPrefix:d,compitableShow:ee(r,["spinning","show"]),mergedStrokeWidth:x(()=>{const{strokeWidth:s}=r;if(s!==void 0)return s;const{size:h}=r;return be[typeof h=="number"?"medium":h]}),cssVars:o?void 0:m,themeClass:f==null?void 0:f.themeClass,onRender:f==null?void 0:f.onRender}},render(){var r,d;const{$slots:o,mergedClsPrefix:a,description:m}=this,f=o.icon&&this.rotate,s=(m||o.description)&&b("div",{class:`${a}-spin-description`},m||((r=o.description)===null||r===void 0?void 0:r.call(o))),h=o.icon?b("div",{class:[`${a}-spin-body`,this.themeClass]},b("div",{class:[`${a}-spin`,f&&`${a}-spin--rotate`],style:o.default?"":this.cssVars},o.icon()),s):b("div",{class:[`${a}-spin-body`,this.themeClass]},b(te,{clsPrefix:a,style:o.default?"":this.cssVars,stroke:this.stroke,"stroke-width":this.mergedStrokeWidth,class:`${a}-spin`}),s);return(d=this.onRender)===null||d===void 0||d.call(this),o.default?b("div",{class:[`${a}-spin-container`,this.themeClass],style:this.cssVars},b("div",{class:[`${a}-spin-content`,this.compitableShow&&`${a}-spin-content--spinning`]},o),b(se,{name:"fade-in-transition"},{default:()=>this.compitableShow?h:null})):h}});function _e(){const r=new Date,d=r.getDate(),o=r.getMonth()+1;return`${r.getFullYear()}-${o}-${d}`}const $e={class:"p-4 space-y-5 min-h-[200px]"},we={class:"space-y-6"},Ce={class:"flex items-center space-x-4"},Se={class:"flex-shrink-0 w-[100px]"},ze={class:"flex-1"},Ne={class:"flex items-center space-x-4"},Ie={class:"flex-shrink-0 w-[100px]"},Pe={class:"w-[200px]"},Te={class:"flex items-center space-x-4"},Be={class:"flex-shrink-0 w-[100px]"},Ue={class:"flex-1"},De={class:"flex-shrink-0 w-[100px]"},Re={class:"flex flex-wrap items-center gap-4"},je={class:"flex items-center space-x-4"},Oe={class:"flex-shrink-0 w-[100px]"},Ve={class:"flex flex-wrap items-center gap-4"},Le={class:"flex items-center space-x-4"},Ge={class:"flex-shrink-0 w-[100px]"},Me={class:"flex flex-wrap items-center gap-4"},We={class:"flex items-center space-x-4"},Ae={class:"flex-shrink-0 w-[100px]"},Ee=R({__name:"General",setup(r){const d=ne(),o=ae(),{isMobile:a}=ie(),m=oe(),f=x(()=>d.theme),s=x(()=>o.userInfo),h=I(s.value.avatar??""),g=I(s.value.name??""),y=I(s.value.description??""),_=x({get(){return d.language},set(i){d.setLanguage(i)}}),$=[{label:"Auto",key:"auto",icon:"ri:contrast-line"},{label:"Light",key:"light",icon:"ri:sun-foggy-line"},{label:"Dark",key:"dark",icon:"ri:moon-foggy-line"}],w=[{label:"简体中文",key:"zh-CN",value:"zh-CN"},{label:"繁體中文",key:"zh-TW",value:"zh-TW"},{label:"English",key:"en-US",value:"en-US"}];function C(i){o.updateUserInfo(i),m.success(U("common.success"))}function A(){o.resetUserInfo(),m.success(U("common.success")),window.location.reload()}function E(){const i=_e(),c=localStorage.getItem("chatStorage")||"{}",u=JSON.stringify(JSON.parse(c),null,2),S=new Blob([u],{type:"application/json"}),B=URL.createObjectURL(S),T=document.createElement("a");T.href=B,T.download=`chat-store_${i}.json`,document.body.appendChild(T),T.click(),document.body.removeChild(T)}function F(i){const c=i.target;if(!c||!c.files)return;const u=c.files[0];if(!u)return;const S=new FileReader;S.onload=()=>{try{const B=JSON.parse(S.result);localStorage.setItem("chatStorage",JSON.stringify(B)),m.success(U("common.success")),location.reload()}catch{m.error(U("common.invalidFileFormat"))}},S.readAsText(u)}function J(){localStorage.removeItem("chatStorage"),location.reload()}function H(){const i=document.getElementById("fileInput");i&&i.click()}return(i,c)=>(P(),D("div",$e,[e("div",we,[e("div",Ce,[e("span",Se,n(i.$t("setting.avatarLink")),1),e("div",ze,[l(t(j),{value:h.value,"onUpdate:value":c[0]||(c[0]=u=>h.value=u),placeholder:""},null,8,["value"])]),l(t(k),{size:"tiny",text:"",type:"primary",onClick:c[1]||(c[1]=u=>C({avatar:h.value}))},{default:p(()=>[v(n(i.$t("common.save")),1)]),_:1})]),e("div",Ne,[e("span",Ie,n(i.$t("setting.name")),1),e("div",Pe,[l(t(j),{value:g.value,"onUpdate:value":c[2]||(c[2]=u=>g.value=u),placeholder:""},null,8,["value"])]),l(t(k),{size:"tiny",text:"",type:"primary",onClick:c[3]||(c[3]=u=>C({name:g.value}))},{default:p(()=>[v(n(i.$t("common.save")),1)]),_:1})]),e("div",Te,[e("span",Be,n(i.$t("setting.description")),1),e("div",Ue,[l(t(j),{value:y.value,"onUpdate:value":c[4]||(c[4]=u=>y.value=u),placeholder:""},null,8,["value"])]),l(t(k),{size:"tiny",text:"",type:"primary",onClick:c[5]||(c[5]=u=>C({description:y.value}))},{default:p(()=>[v(n(i.$t("common.save")),1)]),_:1})]),e("div",{class:le(["flex items-center space-x-4",t(a)&&"items-start"])},[e("span",De,n(i.$t("setting.chatHistory")),1),e("div",Re,[l(t(k),{size:"small",onClick:E},{icon:p(()=>[l(t(N),{icon:"ri:download-2-fill"})]),default:p(()=>[v(" "+n(i.$t("common.export")),1)]),_:1}),e("input",{id:"fileInput",type:"file",style:{display:"none"},onChange:F},null,32),l(t(k),{size:"small",onClick:H},{icon:p(()=>[l(t(N),{icon:"ri:upload-2-fill"})]),default:p(()=>[v(" "+n(i.$t("common.import")),1)]),_:1}),l(t(re),{placement:"bottom",onPositiveClick:J},{trigger:p(()=>[l(t(k),{size:"small"},{icon:p(()=>[l(t(N),{icon:"ri:close-circle-line"})]),default:p(()=>[v(" "+n(i.$t("common.clear")),1)]),_:1})]),default:p(()=>[v(" "+n(i.$t("chat.clearHistoryConfirm")),1)]),_:1})])],2),e("div",je,[e("span",Oe,n(i.$t("setting.theme")),1),e("div",Ve,[(P(),D(ce,null,ue($,u=>l(t(k),{key:u.key,size:"small",type:u.key===t(f)?"primary":void 0,onClick:S=>t(d).setTheme(u.key)},{icon:p(()=>[l(t(N),{icon:u.icon},null,8,["icon"])]),_:2},1032,["type","onClick"])),64))])]),e("div",Le,[e("span",Ge,n(i.$t("setting.language")),1),e("div",Me,[l(t(pe),{style:{width:"140px"},value:t(_),options:w,onUpdateValue:c[6]||(c[6]=u=>t(d).setLanguage(u))},null,8,["value"])])]),e("div",We,[e("span",Ae,n(i.$t("setting.resetUserInfo")),1),l(t(k),{size:"small",onClick:A},{default:p(()=>[v(n(i.$t("common.reset")),1)]),_:1})])])]))}}),Fe="chatgpt-web",Je="2.10.7",He="ChatGPT Web",Ye="ChenZhaoYu <chenzhaoyu1994@gmail.com>",Ke=["chatgpt-web","chatgpt","chatbot","vue"],qe={dev:"vite",build:"run-p type-check build-only",preview:"vite preview","build-only":"vite build","type-check":"vue-tsc --noEmit",lint:"eslint .","lint:fix":"eslint . --fix",bootstrap:"pnpm install && pnpm run common:prepare","common:cleanup":"rimraf node_modules && rimraf pnpm-lock.yaml","common:prepare":"husky install"},Qe={"@traptitech/markdown-it-katex":"^3.6.0","@vueuse/core":"^9.13.0","highlight.js":"^11.7.0",html2canvas:"^1.4.1",katex:"^0.16.4","markdown-it":"^13.0.1","naive-ui":"^2.34.3",pinia:"^2.0.33",vue:"^3.2.47","vue-i18n":"^9.2.2","vue-router":"^4.1.6"},Xe={"@antfu/eslint-config":"^0.35.3","@commitlint/cli":"^17.4.4","@commitlint/config-conventional":"^17.4.4","@iconify/vue":"^4.1.0","@types/crypto-js":"^4.1.1","@types/katex":"^0.16.0","@types/markdown-it":"^12.2.3","@types/markdown-it-link-attributes":"^3.0.1","@types/node":"^18.14.6","@vitejs/plugin-vue":"^4.0.0",autoprefixer:"^10.4.13",axios:"^1.3.4","crypto-js":"^4.1.1",eslint:"^8.35.0",husky:"^8.0.3",less:"^4.1.3","lint-staged":"^13.1.2","markdown-it-link-attributes":"^4.0.1","npm-run-all":"^4.1.5",postcss:"^8.4.21",rimraf:"^4.2.0",tailwindcss:"^3.2.7",typescript:"~4.9.5",vite:"^4.2.0","vite-plugin-pwa":"^0.14.4","vue-tsc":"^1.2.0"},Ze={name:Fe,version:Je,private:!1,description:He,author:Ye,keywords:Ke,scripts:qe,dependencies:Qe,devDependencies:Xe,"lint-staged":{"*.{ts,tsx,vue}":["pnpm lint:fix"]}},et={class:"p-4 space-y-4"},tt={class:"text-xl font-bold"},st=e("div",{class:"p-2 space-y-2 rounded-md bg-neutral-100 dark:bg-neutral-700"},[e("p",null,[v(" 此项目开源于 "),e("a",{class:"text-blue-600 dark:text-blue-500",href:"https://github.com/Chanzhaoyu/chatgpt-web",target:"_blank"}," Github "),v(" ，免费且基于 MIT 协议，没有任何形式的付费行为！ ")]),e("p",null," 如果你觉得此项目对你有帮助，请在 Github 帮我点个 Star 或者给予一点赞助，谢谢！ ")],-1),nt={key:0},at={key:1},it=R({__name:"About",setup(r){const d=de(),o=I(!1),a=I(),m=x(()=>!!d.isChatGPTAPI);async function f(){try{o.value=!0;const{data:s}=await fe();a.value=s}finally{o.value=!1}}return me(()=>{f()}),(s,h)=>(P(),W(t(xe),{show:o.value},{default:p(()=>{var g,y,_,$,w,C;return[e("div",et,[e("h2",tt," Version - "+n(t(Ze).version),1),st,e("p",null,n(s.$t("setting.api"))+"："+n(((g=a.value)==null?void 0:g.apiModel)??"-"),1),t(m)?(P(),D("p",nt,n(s.$t("setting.balance"))+"："+n(((y=a.value)==null?void 0:y.balance)??"-"),1)):L("",!0),t(m)?L("",!0):(P(),D("p",at,n(s.$t("setting.reverseProxy"))+"："+n(((_=a.value)==null?void 0:_.reverseProxy)??"-"),1)),e("p",null,n(s.$t("setting.timeout"))+"："+n((($=a.value)==null?void 0:$.timeoutMs)??"-"),1),e("p",null,n(s.$t("setting.socks"))+"："+n(((w=a.value)==null?void 0:w.socksProxy)??"-"),1),e("p",null,n(s.$t("setting.httpsProxy"))+"："+n(((C=a.value)==null?void 0:C.httpsProxy)??"-"),1)])]}),_:1},8,["show"]))}}),ot={class:"ml-2"},lt={class:"min-h-[100px]"},rt={class:"ml-2"},ut=R({__name:"index",props:{visible:{type:Boolean}},emits:["update:visible"],setup(r,{emit:d}){const o=r,a=I("General"),m=x({get(){return o.visible},set(f){d("update:visible",f)}});return(f,s)=>(P(),W(t(ge),{show:t(m),"onUpdate:show":s[1]||(s[1]=h=>ve(m)?m.value=h:null),"auto-focus":!1,preset:"card",style:{width:"95%","max-width":"640px"}},{default:p(()=>[e("div",null,[l(t(he),{value:a.value,"onUpdate:value":s[0]||(s[0]=h=>a.value=h),type:"line",animated:""},{default:p(()=>[l(t(G),{name:"General",tab:"General"},{tab:p(()=>[l(t(N),{class:"text-lg",icon:"ri:file-user-line"}),e("span",ot,n(f.$t("setting.general")),1)]),default:p(()=>[e("div",lt,[l(Ee)])]),_:1}),l(t(G),{name:"Config",tab:"Config"},{tab:p(()=>[l(t(N),{class:"text-lg",icon:"ri:list-settings-line"}),e("span",rt,n(f.$t("setting.config")),1)]),default:p(()=>[l(it)]),_:1})]),_:1},8,["value"])])]),_:1},8,["show"]))}});export{ut as default};
